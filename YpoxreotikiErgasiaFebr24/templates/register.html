<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=PT+Sans&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tangerine">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rancho&effect=shadow-multiple">
  <title> DS AIRLINES </title>
  <link rel="icon" href="../static/img/tab_image.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="../static/css/nav.css">
  <link rel="stylesheet" href="../static/css/custom.css">

  <style>
    .precond {
      font-size: 15px;
      font-style: oblique;
      font-weight: 900;
      text-decoration: underline;
    }
  </style>
</head>

<body>
  <header>
    <nav>
      <div class="logo">
        <a href="/"> <span style="color:cyan">DS</span>Airlines</a>

      </div>
      <!-- menu links -->
      <ul class="nav_links">
        <li><a href="/">Home</a></li>
        <li><a href="search_flights">Flights</a></li>
        <li><a href="aboutus">About Us</a></li>
        <li><a href="contact">Contact Us</a></li>
        {% if session.get('user_email') %}
        <li><a href="{{ url_for('user_logged_in') }}">My Account</a></li>
        {% elif session.get('admin_email') %}
        <li><a href="{{ url_for('admin_logged_in') }}">View Account</a></li>
        {% else %}
        <li><a href="{{ url_for('login') }}">Account</a></li>
        {% endif %}
        <li><a href="user_logged_in">Account</a></li>
      </ul>
      <!-- end menu links -->


      <div class="lines">
        <div class="line1"></div>
        <div class="line2"></div>
        <div class="line3"></div>
      </div>
    </nav>
  </header>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var form = document.getElementById('myForm');

      form.addEventListener('submit', function (e) {
        // By default, assume the form should not submit
        var shouldSubmit = false;

        // Get the password value
        var password = document.getElementById('password').value;

        // Check if the password meets the requirements
        if (password.length >= 8 && /\d/.test(password)) {
          // If yes, allow the form to submit
          shouldSubmit = true;
        } else {
          // If not, prevent form submission and alert the user
          alert('Password must be at least 8 characters long and contain at least 1 digit.');
          e.preventDefault(); // Prevent form submission
        }

        // If the form should submit, explicitly return true
        if (shouldSubmit) {
          form.submit();
        }
      }, false);
    });
  </script>

  <main>
    <br>
    <!-- Αρχή προσθήκης κώδικα -->
    {% if error %}
    <p id="tempMessage"
      style="color:white; text-align: center; font-size: 17px; font-weight: bold; border:1px solid red; background-color:red; padding:5px;">
      A user with the same email already exists.</p>
    <script>
      // Wait for 15 seconds (15000 milliseconds) then hide the message
      setTimeout(function () {
        document.getElementById('tempMessage').style.display = 'none';
      }, 15000);
    </script>
    {% endif %}

    {% if error2 %}
    <p id="tempMessage2"
      style="color:white; text-align: center; font-size: 17px; font-weight: bold; border:1px solid red; background-color:red; padding:5px;">
      Please fill in the form again, considering that in the password there should be at least 1 digit.</p>
    <script>
      // Wait for 15 seconds (15000 milliseconds) then hide the message
      setTimeout(function () {
        document.getElementById('tempMessage2').style.display = 'none';
      }, 15000);
    </script>
    {% endif %}

    {% if error3 %}
    <p id="tempMessage3"
      style="color:white; text-align: center; font-size: 17px; font-weight: bold; border:1px solid red; background-color:red; padding:5px;">
      Please fill in the form again, considering that the password's length should be 8 characters at least.</p>
    <script>
      // Wait for 15 seconds (15000 milliseconds) then hide the message
      setTimeout(function () {
        document.getElementById('tempMessage3').style.display = 'none';
      }, 15000);
    </script>
    {% endif %}

    <div class="container w-50"><br><br>
      <h1>Register</h1>
      <p>Please fill in this form to create an account.</p>
      <hr>

      <form method="POST" action="register" name="signup_form" id="myForm">
        <div class="mb-3">
          <label for="fullname" class="form-label">Full Name</label>
          <input type="text" name="fullname" class="form-control" id="name" required>
        </div>

        <div class="mb-3">
          <label for="email" class="form-label">Email address</label>
          <input type="email" name="email" class="form-control" id="email" required>
        </div>

        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <p class="precond">MINIMUM LENGTH 8 CHARACTERS, WITH MINIMUM 1 NUMBER</p>

          <input type="text" name="password" class="form-control" id="password" required>
        </div>

        <div class="mb-3 form-check">
          <input type="checkbox" class="form-check-input" id="terms" required>
          <label class="form-check-label" for="terms">By creating an account you agree to our <a href="">Terms &
              Privacy</a>.</label>
        </div>

        <input type="submit" name="submit" class="btn btn-primary" value="Register" class="done">

      </form>

      <div class="container signin w-50" style="margin-top:20px">
        <p>Already have an account? <a href="/login">Sign in</a>.</p>
      </div>
    </div>

    <!-- Τέλος προσθήκης κώδικα -->
  </main>

  <footer>
    &copy; Copyright 2024 | Designed by LM
  </footer>

  <!-- MENU JS -->
  <script src="../static/js/mobile-menu.js"></script>
</body>

</html>